<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>XHR Demo - Load Post Data</title>
</head>
<body>
    <h1>XHR Demo</h1>
    <button id="loadBtn">Load Post Data</button>
    <div id="output"></div>

    <script>
        // Get references to DOM elements
        const loadBtn = document.getElementById('loadBtn');
        const output = document.getElementById('output');

        // Add click event listener to the button
        loadBtn.addEventListener('click', function() {
            // Show loading message
            output.innerHTML

            // Create a new XMLHttpRequest object
            const xhr = new XMLHttpRequest();

            // Set up the callback function for when the request state changes
            xhr.onreadystatechange = function() {
                // Check if the request is complete (readyState === 4)
                if (xhr.readyState === 4) {
                    // Check if the request was successful (status === 200)
                    if (xhr.status === 200) {
                        // Parse the JSON response
                        const postData = JSON.parse(xhr.responseText);
                        
                        // Display the post data in a formatted way
                        output.innerHTML = `
                            <h2{postData.id}</h2>
                            <h3>Title:</h3>
                            <p {postData.title}</p>
                            <p {postData.body}</p>
                            <p User ID: ${postData.userId}</p>
                        `;
                    } else {
                        // Display error message if request failed
                        output.innerHTML = `
                                <small>Failed to load post data. Please try again.</small>
                            </div>
                        `;
                    }
                }
            };

            // Configure the request: GET method, URL, asynchronous
            xhr.open('GET', 'https://jsonplaceholder.typicode.com/posts/1', true);

            // Send the request
            xhr.send();
        });
    </script>
</body>
</html>
